<!DOCTYPE html>
<html>
	<head>
		<title>ğ™½ğ™¸ğšğ™°ğ™½ğ™¹ğ™°ğ™½ ğ™²ğšğ™´ğ™°ğšƒğ™¸ğ™¾ğ™½ğš‚</title>
		<link charset="UTF-8">
	</head>
	<style>
		body{
			background-color:teal;
			color:maroon;
		     }
		#f{
			color:black;
		  }
	</style>
	<body>
		<h1>ğ™»ğš’ğš—ğšğšŠğš› ğšğšğšğš›ğšğšœğšœğš’ğš˜ğš— ğ™¼ğš˜ğšğšğš•</h1>
		<h1 style="color:yellow;">1 . ğšƒğš›ğšŠğš’ğš—</h1>
		<input type="file" id="f" accept=".json"></input><br></br>
		<button onclick="train()">ğ™¿ğš›ğš˜ğšŒğšğšğš ğšƒğš›ğšŠğš’ğš—ğš’ğš—ğš</button>
		<h1 style="color:yellow;">2 . ğšƒğšğšœğš</h1>
		<input type="text" placeholder="ğ™´ğš—ğšğšğš› ğ™¸ğš—ğš™ğšğš ..."  id="test" ></input>
		<button onclick="predict()">ğ™¿ğš›ğšğšğš’ğšŒğš</button>
		<h1 style="color:yellow;">3. ğ™¾ğšğšğš™ğšğš</h1>
		<div id="output" style="color:white;"></div>
		<script>
			function train(){
				let fn = document.getElementById("f").files[0];
				let output = document.getElementById("output"); 
				if(fn==null){
					output.innerText="ğ™¿ğš•ğšğšŠğšœğš ğ™²ğš‘ğš˜ğš˜ğšœğš ğ™µğš’ğš•ğš !";
					}else{
						let r = new FileReader();
		    r.onload=()=>{
			   let a=r.result;
			   a=JSON.parse(a);
			   let x = a[0].input;
			   let y = a[0].output;
								 t(x,y);
			   };
						r.readAsText(fn);
					}
		
				}
	let model=[0,0]
	function t(x,y){
		let output = document.getElementById("output");
		let sx=0,sy=0,sxx=0,sxy=0,m,c,n=x.length;
		for(let i=0;i<n;i++){
			sx+=x[i];
			sy+=y[i];
			sxx+=(x[i]**2);
			sxy+=(x[i]*y[i]);
			}
		m=(n*sxy-sx*sy)/(n*sxx-(sx)**2);
		c=(sy-m*sx)/x.length;
		model=[m,c];
		output.innerText="ğš‚ğšğšŒğšŒğšğšœğšœğšğšğš•ğš•ğš¢ ğšƒğš›ğšŠğš’ğš—ğšğš ğšŠğš—ğš ğ™²ğš›ğšğšŠğšğšğš ğ™¼ğš˜ğšğšğš• !";
		}
	function predict(){
		let input = document.getElementById("test").value;
		let output = document.getElementById("output");
		if(input==""){
			output.innerText="ğ™¿ğš•ğšğšŠğšœğš ğ™´ğš—ğšğšğš› ğ™¸ğš—ğš™ğšğš !";
			}else{
				input = Number(input);
				let y = model[0]*input+model[1];
				output.innerText="ğ™¿ğš›ğšğšğš’ğšŒğšğš’ğš˜ğš— : "+ y;
				}
		}
		</script>
	</body>
</html>