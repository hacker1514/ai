<!DOCTYPE html>
<html>
	<head>
		<title>π™½π™Έππ™°π™½π™Ήπ™°π™½ π™²ππ™΄π™°πƒπ™Έπ™Ύπ™½π‚</title>
		<meta charset="UTF-8">
	</head>
	<style>
		body{
			background-color:teal;
			color:maroon;
		}
		#f{
			color:black;
		}
	</style>
	<body>

	<h1>π™Ί-π™½πππ›πππ π™½ππ’ππ‘π‹πππ›</h1>

	<h1 style="color:yellow;">π·. π™³πππ</h1>
	<span style="color:black">π™Έπ—π™ππ : </span>
	<input type="text" placeholder="1,2|4,5" id="ip">
	<br><br>
	<span style="color:black">π™Ύπππ™ππ : </span>
	<input type="text" placeholder="1,0" id="op">

	<h1 style="color:yellow;">2. π™Ί-π…ππ•ππ</h1>
	<span style="color:black">π™Έπ—π™ππ : </span>
	<input type="text" placeholder="3" id="k_value">

	<h1 style="color:yellow;">3 . πƒπ›ππ’π—</h1>
	<button onclick="train()">π™Ώπ›πππππ πƒπ›ππ’π—π’π—π</button>

	<h1 style="color:yellow;">4 . πƒπππ</h1>
	<input type="text" placeholder="π™΄π—πππ› π™Έπ—π™ππ ..." id="test">
	<button onclick="predict()">π™Ώπ›πππ’ππ</button>

	<h1 style="color:yellow;">5. π™Ύπππ™ππ</h1>
	<div id="output" style="color:white;"></div>

	<script>

	let model = [0,0]

	function distance(a,b){
		let d=0;
		let n=a.length;
		for(let i=0;i<n;i++){
			d+=(b[i]-a[i])**2;
		}
		return Math.sqrt(d);
	}

	function train(){
		let ip = document.getElementById("ip").value;
		let op = document.getElementById("op").value;
		let output = document.getElementById("output");

		if(ip=="" || op==""){
			output.innerText="π™Ώπ•ππππ π™΄π—πππ› π™Έπ—π™ππ ππ—π π™Ύπππ™ππ π™Ώπ›ππ™ππ›π•πΆ !";
		}else{

			ip = ip.split('|')
			op = op.split(',')

			let inp = ip;
			ip = [];

			for(let i=0;i<op.length;i++){
				op[i] = Number(op[i]);
				let k = inp[i];
				k = k.split(',')
				for(let j=0;j<k.length;j++){
					k[j] = Number(k[j]);
				}
				ip.push(k);
			}

			model = [ip,op];

			output.innerText="π‚πππππππππ•π•πΆ πƒπ›ππ’π—ππ ππ—π π™²π›πππππ π™Όππππ• !";
		}
	}

	function predict(){

		let k = Number(document.getElementById("k_value").value);
		let x = document.getElementById("test").value;
		let output = document.getElementById("output");

		if(x==""){
			output.innerText="π™Ώπ•ππππ π™΄π—πππ› π™Έπ—π™ππ !";
			return;
		}

		x = x.split(',')
		for(let i=0;i<x.length;i++){
			x[i] = Number(x[i])
		}

		let point = x;
		let data = model[0];
		let labels = model[1];

		let n = data.length;
		let dist=[];

		for(let i=0;i<n;i++){
			dist.push([distance(data[i],point),labels[i]]);
		}

		dist.sort((a,b)=>a[0]-b[0]);

		let c1=0;
		let c2=0;

		for(let i=0;i<k;i++){
			if(dist[i][1]==1){
				c1++;
			}else{
				c2++;
			}
		}

		let y = c1>c2?1:0;

		output.innerText="π™Ώπ›πππ’πππ’ππ— : "+ y;
	}

	</script>

	</body>
</html>